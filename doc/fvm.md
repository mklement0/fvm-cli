<!-- DO NOT EDIT THIS FILE: It is auto-generated by `make update-man` -->

# fvm(1) - manage VMware Fusion VMs

## SYNOPSIS

    fvm      [-t]          [library]
    fvm [-x] [-t]          [activate]   <displayNameRegexOrVmxFile>
    fvm [-x]               close        <displayNameRegexOrVmxFile>
    fvm [-x]               reveal       <displayNameRegexOrVmxFile>
    fvm [-x]               edit         <displayNameRegexOrVmxFile>
    fvm [-x] [-b] [-s]     ls           [<displayNameRegexFilter>]
    fvm                    quit
    fvm [-x] start|pause|unpause|suspend|reset <displayNameRegexOrVmxFile>
    fvm [-x] stop                       <displayNameRegexOrVmxFile> [soft|hard]
      CAVEAT: Append 'soft' to prevent potential VM corruption. 
    fvm [-x] [<auth-opts>] <vmrun-cmd> [...]
    fvm --help-vmrun

    -t ... toggle activation (hotkey-based invocations)
    -x ... display name is specified literally, in full
    -b ... bare, tab-separated output for machine parsing
    -s ... include VM state and show open VMs first
    --help-vmrun ... shows vmrun's command-line help

Standard options: `--help`, `--man`, `--version`, `--home`

## DESCRIPTION

`fvm` (*F*usion *V*M *M*anager) is a convenience wrapper around the `vmrun`  
CLI (https://www.vmware.com/support/developer/vix-api/vix112_vmrun_command.pdf)  
that comes with VMWare Fusion, with added functionality for managing VM  
window states.

The major areas of functionality are:

* VMs can be targeted by display name substrings (regular expressions)  
  instead of having to specify their VMX file path.

* VMs in open windows can be activated or closed, their VMX files can be  
  revealed in Finder or opened for editing, and Fusion can be quit as a whole.

* A list of all registered VMs can be obtained with subcommand `ls`.

Commands that have a mandatory `<displayNameRegexOrVmxFile>` operand allow  
targeting a specific VM in the following ways:

* By case-insensitive POSIX-compliant extended regular expression that  
  unambiguously matches a VM's display name.  
  Note that this excludes use of word-boundary assertions such as `\b`.  
  It is sufficient for the expression to match only part of the VM's  
  display name, as long as that part is unique among all registered VMs.  
  If multiple VMs match, an error is reported, and all matching display names  
  are printed.  
  By contrast, the optional `<displayNameRegexFilter>` operand to the `ls`  
  merely acts a convenient filter and needn't match unambiguously. 

* If `-x` is specified, the operand must be a VM's full, literal display name.

* Alternatively, the path to a VM's *.vmx file may be specified, as is  
  required when using `vmrun` directly.

## COMMANDS

  * `library`  
  activates VMWare Fusion's Library window. If Fusion isn't running, it is  
  started first. This is the default command.

  * `activate`  
  activates the specified VM in its existing window. If it doesn't have a  
  window, the VM is started, which opens it in a window and starts or resumes  
  it.

  * `close`  
  closes the specified VM's window. The window is first activated, and what  
  happens if the VM is running or paused depends on your Fusion preferences.  
  For instance, the VM may auto-suspend before the window is closed.  
  If the VM has no open window, a message to that effect is prined to stderr,  
  and no action is taken (and the exit code is still zero).

  * `reveal`  
  reveals the specified VM's *.vmx file inside its *.vmwarevm bundle folder   
  in Finder.

  * `edit`  
  opens the specified VM's *.vmx file in the system's default text editor.

  * `ls`  
  lists all registered VMs sorted case-insensitively by display name by  
  default. If you add `-s`, VMs with open windows are shown first.  
  The default display is columnated, with a header, for human consumption.  
  To get header-less, tab-separated data for programmatic consumption instead,  
  use `-b`.  
  The fields output for each VM are:  
  Without -s: display name, guest OS identifier, VMX file path.  
  With -s:    display name, guest OS identifier, state, VMX file path. 
  The state field contains:  
    "on", if a VM is open in a window and running or paused  
    "win", if it is open in a window and suspended or shut down  
    a single space otherwise (not open in a window).  
  You may optionally specify a display-name regex to filter the list by.

  * `start`, `pause`, `unpause`, `suspend`, `reset`  
  perform the requested power command via `vmrun`. Note that these commands  
  are no-ops if the target VM is already in the requested state.

  * `stop`  
  stops the specified VM.  
  CAVEAT: The default mode is *hard*, which is the equivalent of pulling the  
  power cord, which *may corrupt the VM*.  
  To be safe, append argument `soft`, which gives the guest OS the chance  
  to shut down properly.

  * `<vmrun-cmd>`  
  represents all other commands that `vmrun` CLI supports, which cover a wide   
  array of functionality, including managing snapshots,  
  installing VMware Tools, and running commands inside a VM.  
  See examples below; for the complete list of supported commands, invoke this  
  utility with `--help-vmrun`.  
  
  * `quit`  
  quits VMware Fusion synchronously, activating it first, so that prompts, if  
  any, are visible. Depending on how many VMs are running, quitting can  
  take a while.

## OPTIONS

  * `-x`, `--exact-name`
    specifies that the `<displayNameRegexOrVmxFile>` operand contain a literal,
    full display name that must match the display name of the targeted VM  
    exactly.

  * `-t`, `--toggle-activation`  
    can be combined with `library` and `activate` to achieve an activation  
    toggle: if the specified VM or the library window is not currently   
    frontmost, it is activated (made frontmost); if it already is frontmost,  
    it is hidden.  
    Note that this option only makes sense if you launch `fvm` invisibly,  
    such as by keyboard shortcut via Alfred (https://www.alfredapp.com/).

  * `-b`, `--bare-output`  
    switches the `ls` command's output from the default, columated
    format to a header-less, tab-separated format, as described above.

  * `-s`, `--show-state`  
    makes the `ls` command include power state information for each VM,  
    with VMs that are open in a window listed first.  
    Within each group, the VMs are sorted case-sensitively by display name.  
    A "state" column is added to the output, whose values are described above.  
    Note that this option significantly increases execution time.  
    To see only running or paused VMs, you may use `fvm list` to pass  
    the `list` command through to `vmrun`, but note that they will be listed  
    by VMX file path only.

  * `<auth-opts>`  
    The authorization options to pass through to `vmrun`, for in-guest  
    operations, namely: `-gu <username>`, `-gp <password>` to specify guest  
    credentials, and, in case of an encrypted virtual machine, additionally  
    `-vp <vm-password>`.  
    Note, however, that you may omit these options, in which case you'll be  
    prompted interactively.

## STANDARD OPTIONS

All standard options must be provided as the only argument; all of them provide  
information only.

 * `-h, --help`  
   Prints the contents of the synopsis chapter to stdout for quick reference.

 * `--man`  
   Displays this manual page, which is a helpful alternative to using `man`,  
   if the manual page isn't installed.

 * `--version`  
   Prints version information.
  
 * `--home`  
   Opens this utility's home page in the system's default web browser.

## LICENSE

Copyright (c) 2016 Michael Klement (mklement0@gmail.com), released under  
the [MIT license](https://spdx.org/licenses/MIT).

## EXAMPLES

    # Activate (open existing window or run) the VM whose display name
    # contains the substring "w10":
    fvm w10

    # Activate the VM whose display name contains the words "ubuntu" and "14":
    fvm 'ubuntu.*14'

    # Close the window of the VM whose display name is exactly "W7 (32-bit)"
    fvm -x close "W7 (32-bit)"

    # List all registered VMs by display name, guest OS, state, and VMX file 
    # path, with open VMs listed first.
    fvm -s ls

    # List VMs whose display names contain the word "ubuntu".
    fvm ls 'ubuntu'

    ## vmrun PASS-THROUGH EXAMPLES
    ## All examples below use "w10" as the display-name regex for identifying
    ## the target VM. 
  
    # Suspend a VM.
    fvm suspend w10

    # Check if a VM has the VMware Tools are installed.
    fvm checkToolsState w10

    # List a VM's snapshots.
    fvm listsnapshots w10

    # Get a VM's (guest OS's) IP address.
    fvm getGuestIpAddress w10

    # Run a program asynchronously and interactively in the guest OS. 
    fvm -gu jdoe -gp test runProgramInGuest w10 -nowait -interactive 'C:\WINDOWS\system32\calc.exe'

